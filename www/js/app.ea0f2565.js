(function(t){function e(e){for(var s,l,o=e[0],a=e[1],u=e[2],c=0,f=[];c<o.length;c++)l=o[c],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&f.push(n[l][0]),n[l]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,o=1;o<i.length;o++){var a=i[o];0!==n[a]&&(s=!1)}s&&(r.splice(e--,1),t=l(l.s=i[0]))}return t}var s={},n={app:0},r=[];function l(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=s,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(i,s,function(e){return t[e]}.bind(null,s));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/time-slider/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=a;r.push(["3872","chunk-vendors"]),i()})({"2d49":function(t,e){function i(){let t=[],e=[],i=t=>new Promise((e,i)=>{let s="return:";try{let i=100/t;if(isNaN(t)||!isFinite(i))throw console.log(isNaN(t),isFinite(i)),"Parameter is not a number!"+i;e(s+t+i)}catch(n){i(n)}}),s=(e,i,s)=>{while(t.length>0)t.pop();let n=i,r=1,l=parseFloat((e-2*i)/s),o=new Date,a=6-o.getTimezoneOffset()/60;o.setHours(a,0,0);while(r<=1440){n+=l;let e={id:Math.round(r),tm:new Date(o).toISOString().slice(11,16),tmx:n};t.push(e),o=new Date(o).getTime()+6e4,r++}return t},n=(i,s,n)=>{if(t.length<2)return[{id:-1,x:"Please call fillTimeLabel function first!"}];let l=1,o=r(s,n),a=1;e=t.map(t=>{if(t.id==l){let e={id:t.id,x:t.tmx,tml:t.tm,n:a};return l+=o,a++,e}}).filter(Boolean);let u=t.slice(-1)[0],d={id:u.id,x:u.tmx,tml:u.tm,n:a};return e.push(d),e},r=(t,e)=>{let i=t/24;for(var s=e;s<=24;s++){let e=t%s;if(0==e){i=t/s;break}}return i};this.test=function(t){return i(t)},this.fillTimeLabel=(t,e,i)=>s(t,e,i),this.fillAxisLabel=(t,e,i)=>n(t,e,i)}t.exports=i},3872:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.error?i("p",[t._v(t._s(t.error))]):t._e(),i("svg",{staticClass:"zero",attrs:{id:"svg0",viewBox:"0,0,"+t.ds.w+","+t.ds.h,xmlns:"http://www.w3.org/2000/svg"},on:{mousedown:function(e){return t.startDrag(e)},mousemove:t.doDrag,load:t.initSvg}},[i("defs",{attrs:{id:"comps"}},[i("g",{attrs:{id:"mover"}},[i("path",{attrs:{d:"m0 10 h80 l0 20 l-20 0 l-10 20 l10 0 l-20 20 l-20 -20 l10 0 l-10 -20 l-20 0 l0 -20"}})])]),i("g",{staticClass:"static"},[i("rect",{staticClass:"zero_rect",attrs:{x:"0",y:"0",width:t.ds.w,height:t.ds.h}}),i("line",{staticClass:"axis",attrs:{x1:t.middleOffset,x2:t.ds.w-t.middleOffset,y1:t.ds.h*t.ds.y,y2:t.ds.h*t.ds.y,"stroke-width":t.k}}),i("text",{staticClass:"lblNowTime",attrs:{x:t.x+t.middleOffset,y:t.ds.h*t.ds.tmy,"font-size":t.tmf}},[t._v(t._s(t.curTm))])]),t._l(t.tiki,(function(e){return i("g",{key:e.id,staticClass:"static"},[i("line",{staticClass:"axis_ticks",attrs:{x1:e.x,x2:e.x,y1:t.ds.h*t.ds.y,y2:t.ds.h*t.ds.y-t.ds.h*t.ds.tsz,"stroke-width":t.k}}),i("text",{staticClass:"axis_ticks_labels",attrs:{x:e.x,y:t.ds.h*t.ds.lby,"font-size":t.lbf}},[t._v(t._s(e.tml))])])})),i("g",{attrs:{id:"pMover"},on:{mouseenter:function(e){t.canSliderDrug=!t.canSliderDrug},mouseleave:function(e){t.canSliderDrug=!t.canSliderDrug}}},[i("use",{staticClass:"draggable",attrs:{"xlink:href":"#mover",transform:"translate("+t.x+","+t.ds.h*t.y+") scale("+t.mv+")"}})])],2)])},n=[],r=(i("4de4"),i("7db0"),i("d81d"),i("fb6a"),i("a9e3"),i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("2d49")),l=i.n(r),o={name:"TimeSlider",props:{n:{type:Object,default:function(){return{t:72.5,l:81.4,k:500}}},ds:{type:Object,default:function(){return{w:2e3,h:120,y:.7125,tmy:.201,tsz:.06,lby:.93,mv:.06}}},tickCount:{type:Number,default:function(){return 25}}},components:{},data:function(){return{msg:"Welcome",title:"TimeSlider",error:"",tiki:[],tmlbl:[{id:1,tm:"06:00",tmx:3.001}],dragging:!1,canSliderDrug:!1,x:50,y:.15,u:1,curTm:"06:00",selectedElement:!1,offset:0,svgSlider:null,middleOffset:0}},computed:{mv:function(){return this.ds.h/8*.06},tmf:function(){return this.ds.w*this.u/this.n.t/this.u+"px"},lbf:function(){return this.ds.w*this.u/this.n.l/this.u+"px"},k:function(){return this.ds.w*this.u/this.n.k/this.u+"px"},ewd:function(){return this.ds.w*this.u+"px"}},mounted:function(){window.addEventListener("mouseup",this.stopDrag),this.initSvg()},created:function(){},activated:function(){},watch:{},methods:{setNowTime:function(){var t=this;this.curTm=new Date(Date.now()).toTimeString().slice(0,5);var e=this.tmlbl.find((function(e){return e.tm==t.curTm}));e&&(this.x=e.tmx-this.middleOffset)},setTicks:function(t){var e=new l.a,i=this.middleOffset;while(this.tmlbl.length>0)this.tmlbl.pop();this.tmlbl=e.fillTimeLabel(this.ds.w,i,1440).map((function(t){return t}));while(this.tiki.length>0)this.tiki.pop();this.tiki=e.fillAxisLabel(i,1440,t).map((function(t){return t}))},initSvg:function(t){if(t)this.svgSlider=t.target;else{if(t&&this.svgSlider)return;this.svgSlider=document.getElementById("svg0")}if(this.svgSlider){var e=this.svgSlider.getScreenCTM(),i=this.svgSlider.getElementById("pMover").getBoundingClientRect();this.u=e.a,this.middleOffset=i.width/e.a/2,this.setTicks(this.tickCount),this.setNowTime()}},getMousePosition:function(t){var e=this.svgSlider.getScreenCTM();return{x:(t.clientX-e.e)/e.a,y:(t.clientY-e.f)/e.d}},startDrag:function(t){if(t.target.classList.contains("draggable")){this.dragging=!0,this.selectedElement=t.target,this.offset=this.getMousePosition(t),this.offset.x-=this.x;this.selectedElement.getBoundingClientRect()}},stopDrag:function(){this.dragging=!1,this.selectedElement=null},doDrag:function(t){t.preventDefault();t.target;if(this.dragging){var e=this.getMousePosition(t),i=e.x-this.offset.x,s=this.tmlbl.slice(-1)[0].tmx-this.middleOffset;i<=s&&i>0&&(this.x=i,this.getDrugTime(this.x))}},getDrugTime:function(t){var e=this.middleOffset+t,i=this.tmlbl.filter((function(t){return t.tmx>=e})).slice(0,1)[0];this.curTm=i.tm,this.$emit("current-time",this.curTm)}}},a=o,u=(i("dea9"),i("2877")),d=Object(u["a"])(a,s,n,!1,null,"bbf30598",null);e["default"]=d.exports},6220:function(t,e,i){},dea9:function(t,e,i){"use strict";var s=i("6220"),n=i.n(s);n.a}});
//# sourceMappingURL=app.ea0f2565.js.map