(function(t){function e(e){for(var i,o,n=e[0],l=e[1],c=e[2],f=0,u=[];f<n.length;f++)o=n[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(u.length)u.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var i={},r={app:0},a=[];function o(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=i,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/time-slider/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;a.push(["3872","chunk-vendors"]),s()})({"2d49":function(t,e,s){function i(){var t=[],e=[],s=function(t){return new Promise((function(e,s){var i="return:";try{var r=100/t;if(isNaN(t)||!isFinite(r))throw console.log(isNaN(t),isFinite(r)),"Parameter is not a number!"+r;e(i+t+r)}catch(a){s(a)}}))},i=function(e,s,i){while(t.length>0)t.pop();var r=s,a=1,o=parseFloat((e-2*s)/i),n=new Date,l=6-n.getTimezoneOffset()/60;n.setHours(l,0,0);while(a<=1440){r+=o;var c={id:Math.round(a),tm:new Date(n).toISOString().slice(11,16),tmx:r};t.push(c),n=new Date(n).getTime()+6e4,a++}return t},r=function(s,i,r){if(t.length<2)return[{id:-1,x:"Please call fillTimeLabel function first!"}];var o=1,n=a(i,r),l=1;e=t.map((function(t){if(t.id==o){var e={id:t.id,x:t.tmx,tml:t.tm,n:l};return o+=n,l++,e}})).filter(Boolean);var c=t.slice(-1)[0],d={id:c.id,x:c.tmx,tml:c.tm,n:l};return e.push(d),e},a=function(t,e){for(var s=t/24,i=e;i<=24;i++){var r=t%i;if(0==r){s=t/i;break}}return s};this.test=function(t){return s(t)},this.fillTimeLabel=function(t,e,s){return i(t,e,s)},this.fillAxisLabel=function(t,e,s){return r(t,e,s)}}s("4de4"),s("d81d"),s("fb6a"),s("d3b7"),s("e6cf"),t.exports=i},"381d":function(t,e,s){var i=s("ed40");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=s("499e").default;r("6c70f4cc",i,!0,{sourceMap:!1,shadowMode:!1})},3872:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"v-time_slider",attrs:{id:"v-time-slider"}},[t.error?s("p",[t._v(t._s(t.error))]):t._e(),s("svg",{staticClass:"zero",attrs:{id:"svg0",viewBox:"0,0,"+t.ds.w+","+t.ds.h,xmlns:"http://www.w3.org/2000/svg"},on:{mousedown:function(e){return t.startDrag(e)},mousemove:t.doDrag,load:t.initSvg}},[s("defs",{attrs:{id:"comps"}},[s("g",{attrs:{id:"mover"}},[s("path",{attrs:{d:"m0 10 h80 l0 20 l-20 0 l-10 20 l10 0 l-20 20 l-20 -20 l10 0 l-10 -20 l-20 0 l0 -20",fill:"url(#out-mover)"}}),s("path",{attrs:{d:"m2 12 h76 l0 16 l-20 0 l-12 24 l9 0 l-15 15  l-15 -15 l9 0  l-12 -24 l-20 0 l0 -16",fill:"url(#inner-mover)"}})]),s("linearGradient",{attrs:{id:"inner-mover",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}},[s("stop",{staticClass:"alt-stop",attrs:{offset:"0%","stop-opacity":"1"}}),s("stop",{staticClass:"main-stop",attrs:{offset:"30%","stop-opacity":".3"}}),s("stop",{staticClass:"main-stop",attrs:{offset:"60%","stop-opacity":".5"}}),s("stop",{staticClass:"main-stop",attrs:{offset:"100%","stop-opacity":"1"}})],1),s("linearGradient",{attrs:{id:"out-mover",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}},[s("stop",{staticClass:"main-stop",attrs:{offset:"0%","stop-opacity":".1"}}),s("stop",{staticClass:"main-stop",attrs:{offset:"5%","stop-opacity":"1"}}),s("stop",{staticClass:"main-stop",attrs:{offset:"40%","stop-opacity":"0.1"}}),s("stop",{staticClass:"alt-stop",attrs:{offset:"80%","stop-opacity":"0.5"}}),s("stop",{staticClass:"alt-stop",attrs:{offset:"100%","stop-opacity":"1"}})],1),s("linearGradient",{attrs:{id:"bg-slider",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}},[s("stop",{staticClass:"main-stop",attrs:{offset:"0%","stop-opacity":".51"}}),s("stop",{staticClass:"alt-stop",attrs:{offset:"1%","stop-opacity":".99"}}),s("stop",{staticClass:"alt-stop",attrs:{offset:"40%","stop-opacity":"0.98"}}),s("stop",{staticClass:"alt-stop",attrs:{offset:"99%","stop-opacity":"0.99"}}),s("stop",{staticClass:"main-stop",attrs:{offset:"100%","stop-opacity":".51"}})],1)],1),s("g",{staticClass:"static"},[s("rect",{staticClass:"zero_rect",attrs:{x:"0",y:"0",width:t.ds.w,height:t.ds.h,fill:"url(#bg-slider)"}}),s("line",{staticClass:"axis",attrs:{x1:t.middleOffset,x2:t.ds.w-t.middleOffset,y1:t.ds.h*t.ds.y,y2:t.ds.h*t.ds.y,"stroke-width":t.k}}),s("text",{staticClass:"lblNowTime",attrs:{x:t.x+t.middleOffset,y:t.ds.h*t.ds.tmy,"font-size":t.tmf}},[t._v(t._s(t.curTm))])]),t._l(t.tiki,(function(e){return s("g",{key:e.id,staticClass:"static"},[s("line",{staticClass:"axis_ticks",attrs:{x1:e.x,x2:e.x,y1:t.ds.h*t.ds.y,y2:t.ds.h*t.ds.y-t.ds.h*t.ds.tsz,"stroke-width":t.k}}),s("text",{staticClass:"axis_ticks_labels",attrs:{x:e.x,y:t.ds.h*t.ds.lby,"font-size":t.lbf}},[t._v(t._s(e.tml))])])})),s("g",{attrs:{id:"pMover"},on:{mouseenter:function(e){t.canSliderDrug=!t.canSliderDrug},mouseleave:function(e){t.canSliderDrug=!t.canSliderDrug}}},[s("use",{staticClass:"draggable",attrs:{"xlink:href":"#mover",transform:"translate("+t.x+","+t.ds.h*t.y+") scale("+t.ds.mv+")"}})])],2)])},r=[],a=(s("4de4"),s("7db0"),s("d81d"),s("fb6a"),s("a9e3"),s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("2d49")),o=s.n(a),n={name:"TimeSlider",props:{n:{type:Object,default:function(){return{t:72.5,l:81.4,k:500}}},ds:{type:Object,default:function(){return{w:2e3,h:120,y:.7125,tmy:.201,tsz:.06,lby:.93,mv:.93}}},tickCount:{type:Number,default:function(){return 25}},colorMain:{type:String,default:"slateGray"},color:{type:String,default:"aliceBlue"}},components:{},data:function(){return{msg:"Welcome",title:"TimeSlider",error:"",tiki:[],tmlbl:[{id:1,tm:"06:00",tmx:3.001}],dragging:!1,canSliderDrug:!1,x:50,y:.15,u:1,curTm:new Date(Date.now()).toTimeString().slice(0,5),selectedElement:!1,offset:0,svgSlider:null,middleOffset:0}},computed:{mv:function(){return this.ds.h/8*.06},tmf:function(){return this.ds.w*this.u/this.n.t/this.u+"px"},lbf:function(){return this.ds.w*this.u/this.n.l/this.u+"px"},k:function(){return this.ds.w*this.u/this.n.k/this.u+"px"},ewd:function(){return this.ds.w*this.u+"px"}},mounted:function(){window.addEventListener("mouseup",this.stopDrag),this.initSvg(),document.getElementById("v-time-slider").style.setProperty("--colorMain",this.colorMain),document.getElementById("v-time-slider").style.setProperty("--color",this.color)},created:function(){},activated:function(){console.log("activated")},watch:{colorMain:function(t){document.getElementById("v-time-slider").style.setProperty("--colorMain",t)},color:function(t){document.getElementById("v-time-slider").style.setProperty("--color",t)}},methods:{applyVariables:function(){var t=document.documentElement.styles;return t},setNowTime:function(){var t=this;this.curTm=new Date(Date.now()).toTimeString().slice(0,5);var e=this.tmlbl.find((function(e){return e.tm==t.curTm}));e&&(this.x=e.tmx-this.middleOffset)},setTicks:function(t){var e=new o.a,s=this.middleOffset;while(this.tmlbl.length>0)this.tmlbl.pop();this.tmlbl=e.fillTimeLabel(this.ds.w,s,1440).map((function(t){return t}));while(this.tiki.length>0)this.tiki.pop();this.tiki=e.fillAxisLabel(s,1440,t).map((function(t){return t}))},initSvg:function(t){if(t)this.svgSlider=t.target;else{if(t&&this.svgSlider)return;this.svgSlider=document.getElementById("svg0")}if(console.log("mv ",this.ds.mv),this.svgSlider){var e=this.svgSlider.getScreenCTM(),s=this.svgSlider.getElementById("pMover").getBoundingClientRect();this.u=e.a,this.middleOffset=s.width/e.a/2,this.setTicks(this.tickCount),this.setNowTime()}},getMousePosition:function(t){var e=this.svgSlider.createSVGPoint();e.x=t.clientX,e.y=t.clientY;var s=e.matrixTransform(this.svgSlider.getScreenCTM().inverse());return{x:Math.floor(s.x),y:Math.floor(s.y)}},startDrag:function(t){if(t.target.classList.contains("draggable")){this.dragging=!0,this.selectedElement=t.target,this.offset=this.getMousePosition(t),this.offset.x-=this.x;this.selectedElement.getBoundingClientRect()}},stopDrag:function(){this.dragging=!1,this.selectedElement=null},doDrag:function(t){t.preventDefault();t.target;if(this.dragging){var e=this.getMousePosition(t),s=e.x-this.offset.x,i=this.tmlbl.slice(-1)[0].tmx-this.middleOffset;s<=i&&s>0&&(this.x=s,this.getDrugTime(this.x))}},getDrugTime:function(t){var e=this.middleOffset+t,s=this.tmlbl.filter((function(t){return t.tmx>=e})).slice(0,1)[0];this.curTm=s.tm,this.$emit("current-time",this.curTm)}}},l=n,c=(s("7f09"),s("2877")),d=Object(c["a"])(l,i,r,!1,null,"21a2361b",null);e["default"]=d.exports},"7f09":function(t,e,s){"use strict";var i=s("381d"),r=s.n(i);r.a},ed40:function(t,e,s){var i=s("24fb");e=i(!1),e.push([t.i,"body[data-v-21a2361b]{font-size:2em;font:14px/1.5 Helvetica,arial,sans-serif}#v-time-slider[data-v-21a2361b]{text-align:center}.zero[data-v-21a2361b]{width:100%;display:flex;justify-content:center;align-items:center}.zero_rect[data-v-21a2361b]{rx:15px;stroke:var(--colorMain);stroke-width:1.5;border-style:solid;stroke-opacity:.71}.axis[data-v-21a2361b],.axis_ticks[data-v-21a2361b]{stroke:var(--colorMain)}.axis_ticks_labels[data-v-21a2361b]{font-family:sans-serif;text-anchor:middle;fill:var(--colorMain)}.draggable[data-v-21a2361b]{stroke-width:0}.draggable[data-v-21a2361b]:hover{cursor:move;stroke-width:1;stroke:var(--colorMain)}.main-stop[data-v-21a2361b]{stop-color:var(--colorMain)}.alt-stop[data-v-21a2361b]{stop-color:var(--color)}.static[data-v-21a2361b]{cursor:arrow}.lblNowTime[data-v-21a2361b]{font-family:arial;fill:var(--colorMain);text-align:center;text-anchor:middle}",""]),t.exports=e}});
//# sourceMappingURL=app.44cc1be3.js.map