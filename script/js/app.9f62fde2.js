(function(t){function e(e){for(var s,a,l=e[0],o=e[1],c=e[2],u=0,m=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&m.push(n[a][0]),n[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,l=1;l<i.length;l++){var o=i[l];0!==n[o]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},n={app:0},r=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/time-slider/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=o;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"01b2":function(t,e,i){},"2d49":function(t,e,i){function s(){var t=[],e=[],i=function(t){return new Promise((function(e,i){var s="return:";try{var n=100/t;if(isNaN(t)||!isFinite(n))throw console.log(isNaN(t),isFinite(n)),"Parameter is not a number!"+n;e(s+t+n)}catch(r){i(r)}}))},s=function(e,i,s){while(t.length>0)t.pop();var n=i,r=1,a=parseFloat((e-2*i)/s),l=new Date,o=6-l.getTimezoneOffset()/60;l.setHours(o,0,0);while(r<=1440){n+=a;var c={id:Math.round(r),tm:new Date(l).toISOString().slice(11,16),tmx:n};t.push(c),l=new Date(l).getTime()+6e4,r++}return t},n=function(i,s,n){if(t.length<2)return[{id:-1,x:"Please call fillTimeLabel function first!"}];var a=1,l=r(s,n),o=1;e=t.map((function(t){if(t.id==a){var e={id:t.id,x:t.tmx,tml:t.tm,n:o};return a+=l,o++,e}})).filter(Boolean);var c=t.slice(-1)[0],d={id:c.id,x:c.tmx,tml:c.tm,n:o};return e.push(d),e},r=function(t,e){for(var i=t/24,s=e;s<=24;s++){var n=t%s;if(0==n){i=t/s;break}console.log(e," ###oddTickSize ",i)}return console.log(e," ###oddTickSize ",i),i};this.test=function(t){return i(t)},this.fillTimeLabel=function(t,e,i){return s(t,e,i)},this.fillAxisLabel=function(t,e,i){return n(t,e,i)}}i("4de4"),i("d81d"),i("fb6a"),i("d3b7"),t.exports=s},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"w3-container"},[i("div",{staticClass:"w3-card-4 w3-blue w3-padding-16",attrs:{id:"zero"}},[t._m(0),t._m(1),i("div",{staticClass:"w3-row-padding w3-border"},[i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Viewbox width: "+t._s(t.d.w)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.d.w,expression:"d.w"}],attrs:{type:"range",min:"100",max:"2000"},domProps:{value:t.d.w},on:{__r:function(e){return t.$set(t.d,"w",e.target.value)}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Viewbox height: "+t._s(t.d.h)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.d.h,expression:"d.h"}],attrs:{type:"range",min:"100",max:"200"},domProps:{value:t.d.h},on:{__r:function(e){return t.$set(t.d,"h",e.target.value)}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Axis y: "+t._s(t.d.y)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.d.y,expression:"d.y"}],attrs:{type:"range",min:"0.61",max:"0.95",step:"0.01"},domProps:{value:t.d.y},on:{__r:function(e){return t.$set(t.d,"y",e.target.value)}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Label y: "+t._s(t.d.tmy)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.d.tmy,expression:"d.tmy"}],attrs:{type:"range",min:"0.01",max:"0.95",step:"0.01"},domProps:{value:t.d.tmy},on:{__r:function(e){return t.$set(t.d,"tmy",e.target.value)}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Tick size: "+t._s(t.d.tsz)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.d.tsz,expression:"d.tsz"}],attrs:{type:"range",min:"0.01",max:"0.95",step:"0.01"},domProps:{value:t.d.tsz},on:{__r:function(e){return t.$set(t.d,"tsz",e.target.value)}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Axis labels y: "+t._s(t.d.lby)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.d.lby,expression:"d.lby"}],attrs:{type:"range",min:"0.01",max:"0.95",step:"0.01"},domProps:{value:t.d.lby},on:{__r:function(e){return t.$set(t.d,"lby",e.target.value)}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Thumb size: "+t._s(t.d.mv)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.d.mv,expression:"d.mv"}],attrs:{type:"range",min:"0.01",max:"0.95",step:"0.01"},domProps:{value:t.d.mv},on:{__r:function(e){return t.$set(t.d,"mv",e.target.value)}}})])]),i("div",{staticClass:"w3-col m10"},[i("blockquote",{staticClass:"w3-panel w3-leftbar w3-light-grey"}),i("p",{staticClass:"w3-large"}),i("i",{staticClass:"w3-opacity w3-large"},[t._v(t._s(t.str))]),i("p",[t._v("Just copy/past this code to your page")])])]),i("div",{staticClass:"w3-panel"},[i("TimeSlider",{ref:"timeSlider",attrs:{ds:t.d,n:t.f,tickCount:t.tickCount},on:{currentTime:function(e){return t.shiftTime(e)}}})],1),i("div",{staticClass:"w3-row-padding w3-border"},[i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Label font size: "+t._s(t.f.t)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.f.t,expression:"f.t"}],attrs:{type:"range",min:"10",max:"300",step:"0.5"},domProps:{value:t.f.t},on:{__r:function(e){return t.$set(t.f,"t",e.target.value)}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Axis labels font size: "+t._s(t.f.l)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.f.l,expression:"f.l"}],attrs:{type:"range",min:"10",max:"300",step:"0.5"},domProps:{value:t.f.l},on:{__r:function(e){return t.$set(t.f,"l",e.target.value)}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Stroke width: "+t._s(t.f.k)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.f.k,expression:"f.k"}],attrs:{type:"range",min:"10",max:"1000",step:"10"},domProps:{value:t.f.k},on:{__r:function(e){return t.$set(t.f,"k",e.target.value)}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-yellow w3-card-4"},[i("p",[t._v("Axis ticks count: "+t._s(t.tickCount)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tickCount,expression:"tickCount",modifiers:{number:!0}}],attrs:{type:"range",min:"2",max:"48",step:"1"},domProps:{value:t.tickCount},on:{__r:function(e){t.tickCount=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])]),i("div",{staticClass:"w3-col m2"},[i("div",{staticClass:"w3-panel w3-card-4 w3-margin"},[i("button",{staticClass:"w3-button w3-green w3-margin",on:{click:t.reDraw}},[t._v("ReDraw ")])])])]),t._m(2),i("div",{staticClass:"w3-col m2 w3-margin"},[i("div",{staticClass:"w3-panel w3-blue w3-card-4"},[i("h5",[t._v("Time: "),i("span",{staticClass:"w3-badge w3-yellow w3-xlarge"},[t._v(t._s(t.curTime))])])])]),t._m(3)])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w3-container"},[s("h2",[t._v("This is simple dashboard help You easy apply TimeSlider component on the your page. ")]),s("img",{staticClass:"w3-display-topleft w3-container",staticStyle:{width:"10%","max-width":"150px"},attrs:{alt:"Vue logo",src:i("cf05")}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w3-panel w3-pale-yellow"},[i("h6",{staticClass:"w3-opacity"},[t._v("You can see the parameters effects and how to easy reach customization of the look. ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w3-panel w3-pale-yellow"},[i("h6",{staticClass:"w3-opacity"},[t._v("To see changes use ReDraw button. ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w3-col m6 w3-margin"},[i("div",{staticClass:"w3-panel w3-blue w3-card-4"},[i("p",{staticClass:"w3-meddium"}),i("i",{staticClass:"w3-opacity w3-large"},[t._v('v-on:currentTime="shiftTime($event)"')]),i("p",[t._v("To capture slider value use component 'currentTime' event ")])])])}],a=(i("99af"),i("d3b7"),i("25f0"),i("01b2"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.error?i("p",[t._v(t._s(t.error))]):t._e(),i("svg",{staticClass:"zero",attrs:{id:"svg0",viewBox:"0,0,"+t.ds.w+","+t.ds.h,xmlns:"http://www.w3.org/2000/svg"},on:{mousedown:function(e){return t.startDrag(e)},mousemove:t.doDrag,load:t.initSvg}},[i("defs",{attrs:{id:"comps"}},[i("g",{attrs:{id:"mover"}},[i("path",{attrs:{d:"m0 10 h80 l0 20 l-20 0 l-10 20 l10 0 l-20 20 l-20 -20 l10 0 l-10 -20 l-20 0 l0 -20"}})])]),i("g",{staticClass:"static"},[i("rect",{staticClass:"zero_rect",attrs:{x:"0",y:"0",width:t.ds.w,height:t.ds.h}}),i("line",{staticClass:"axis",attrs:{x1:t.middleOffset,x2:t.ds.w-t.middleOffset,y1:t.ds.h*t.ds.y,y2:t.ds.h*t.ds.y,"stroke-width":t.k}}),i("text",{staticClass:"lblNowTime",attrs:{x:t.x+t.middleOffset,y:t.ds.h*t.ds.tmy,"font-size":t.tmf}},[t._v(t._s(t.curTm))])]),t._l(t.tiki,(function(e){return i("g",{key:e.id,staticClass:"static"},[i("line",{staticClass:"axis_ticks",attrs:{x1:e.x,x2:e.x,y1:t.ds.h*t.ds.y,y2:t.ds.h*t.ds.y-t.ds.h*t.ds.tsz,"stroke-width":t.k}}),i("text",{staticClass:"axis_ticks_labels",attrs:{x:e.x,y:t.ds.h*t.ds.lby,"font-size":t.lbf}},[t._v(t._s(e.tml))])])})),i("g",{attrs:{id:"pMover"},on:{mouseenter:function(e){t.canSliderDrug=!t.canSliderDrug},mouseleave:function(e){t.canSliderDrug=!t.canSliderDrug}}},[i("use",{staticClass:"draggable",attrs:{"xlink:href":"#mover",transform:"translate("+t.x+","+t.ds.h*t.y+") scale("+t.mv+")"}})])],2)])}),l=[],o=(i("4de4"),i("7db0"),i("d81d"),i("fb6a"),i("b0c0"),i("a9e3"),i("2d49")),c=i.n(o),d={name:"TimeSlider",props:{n:{type:Object,default:function(){return{t:72.5,l:81.4,k:500}}},ds:{type:Object,default:function(){return{w:2e3,h:120,y:.7125,tmy:.201,tsz:.06,lby:.93,mv:.06}}},tickCount:{type:Number,default:function(){return 25}}},components:{},data:function(){return{msg:"Welcome",title:"TimeSlider",error:"",tiki:[],tmlbl:[{id:1,tm:"06:00",tmx:3.001}],dragging:!1,canSliderDrug:!1,x:50,y:.15,u:1,curTm:"06:00",selectedElement:!1,offset:0,svgSlider:null,middleOffset:0}},computed:{mv:function(){return this.ds.h/8*.06},tmf:function(){return this.ds.w*this.u/this.n.t/this.u+"px"},lbf:function(){return this.ds.w*this.u/this.n.l/this.u+"px"},k:function(){return this.ds.w*this.u/this.n.k/this.u+"px"},ewd:function(){return this.ds.w*this.u+"px"}},mounted:function(){window.addEventListener("mouseup",this.stopDrag),this.initSvg()},created:function(){},activated:function(){},watch:{},methods:{setNowTime:function(){var t=this;this.curTm=new Date(Date.now()).toTimeString().slice(0,5);var e=this.tmlbl.find((function(e){return e.tm==t.curTm}));e&&(this.x=e.tmx-this.middleOffset)},setTicks:function(t){var e=new c.a,i=this.middleOffset;while(this.tmlbl.length>0)this.tmlbl.pop();this.tmlbl=e.fillTimeLabel(this.ds.w,i,1440).map((function(t){return t}));while(this.tiki.length>0)this.tiki.pop();this.tiki=e.fillAxisLabel(i,1440,t).map((function(t){return t}))},initSvg:function(t){if(t)this.svgSlider=t.target,console.log("Event  this.svgSlider",this.svgSlider);else{if(t&&this.svgSlider)return void console.log("initSvg not found  svg0",this.svgSlider);this.svgSlider=document.getElementById("svg0"),console.log("##this.svgSlider",this.svgSlider)}if(this.svgSlider){var e=this.svgSlider.getScreenCTM(),i=this.svgSlider.getElementById("pMover").getBoundingClientRect();this.u=e.a,this.middleOffset=i.width/e.a/2,this.setTicks(this.tickCount),this.setNowTime()}},svgLegth:function(){var t=document.querySelector(".ticklable"),e=t.getBoundingClientRect();console.log(" bre: ",e);var i=t.x.baseVal[0];i.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_MM);for(var s=0;s<t.children.length;s++)console.log(t.children[s].font-family);for(var n=t.attributes,r=n.length-1;r>=0;r--)console.log(n[r].name+"->"+n[r].value);console.log("font--\x3e ",n["font-size"].value);var a=t.attributes["font-size"].baseVal;console.log("--\x3e ",a);var l=document.getElementById("svg0");console.log("rec --\x3e ",l);var o=this.ds.h/96*25.4,c=this.ds.h*this.u/96*25.4,d="font="+n["font-size"].value+" bre: "+e.width+" mm ="+e.width/96*25.4+" rec H mm:"+o+" rec1 H mm:"+c+" br.height  mm ="+e.height/96*25.4;n["font-size"].value=.15*c+"mm",this.iList.push(d)},getMousePosition:function(t){var e=this.svgSlider.getScreenCTM();return{x:(t.clientX-e.e)/e.a,y:(t.clientY-e.f)/e.d}},startDrag:function(t){if(t.target.classList.contains("draggable")){this.dragging=!0,this.selectedElement=t.target,this.offset=this.getMousePosition(t),this.offset.x-=this.x;var e=this.selectedElement.getBoundingClientRect();console.log("offset ",this.offset.x," x ",this.x," sPos ",e)}},stopDrag:function(){this.dragging=!1,this.selectedElement=null},doDrag:function(t){t.preventDefault();t.target;if(this.dragging){var e=this.getMousePosition(t),i=e.x-this.offset.x,s=this.tmlbl.slice(-1)[0].tmx-this.middleOffset;i<=s&&i>0&&(this.x=i,this.getDrugTime(this.x))}},getDrugTime:function(t){var e=this.middleOffset+t,i=this.tmlbl.filter((function(t){return t.tmx>=e})).slice(0,1)[0];this.curTm=i.tm,this.$emit("currentTime",this.curTm)}}},u=d,m=(i("9166"),i("2877")),f=Object(m["a"])(u,a,l,!1,null,"7e80a1aa",null),v=f.exports,h={name:"app",components:{TimeSlider:v},data:function(){return{d:{w:2e3,h:120,y:.7125,tmy:.201,tsz:.06,lby:.93,mv:.06},f:{t:72.5,l:81.4,k:500},tickCount:16,curTime:"00:00"}},computed:{ds:function(){var t="{ w:";return t=t.concat(this.d.w.toString(),", h:",this.d.h.toString(),", y:",this.d.y.toString(),", tmy:",this.d.tmy.toString(),", tsz:",this.d.tsz.toString(),", lby:",this.d.lby.toString(),", mv:",this.d.mv.toString()," }"),t},n:function(){var t="{ t:";return t=t.concat(this.f.t.toString(),", l:",this.f.l.toString(),", k:",this.f.k.toString()," }"),t},t:function(){var t="{ tickCount:";return t=t.concat(this.tickCount.toString()," }"),t},str:function(){var t="<time-slider :ds=";return t=t.concat(this.ds," :n=",this.n," :tickCount=",this.tickCount," ><time-slider/>"),t},tik:function(){return console.log(" tickCount ",parseInt(this.tickCount)),parseInt(this.tickCount)}},methods:{shiftTime:function(t){this.curTime=t},reDraw:function(){console.log(this.$refs.timeSlider),this.$refs.timeSlider.initSvg()}}},p=h,w=(i("7faf"),Object(m["a"])(p,n,r,!1,null,null,null)),g=w.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(g)}}).$mount("#app")},"7faf":function(t,e,i){"use strict";var s=i("b8ff"),n=i.n(s);n.a},9166:function(t,e,i){"use strict";var s=i("99a0"),n=i.n(s);n.a},"99a0":function(t,e,i){},b8ff:function(t,e,i){},cf05:function(t,e,i){t.exports=i.p+"script/img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.9f62fde2.js.map